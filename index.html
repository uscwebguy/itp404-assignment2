<script>
//Task 1
var string = {
	pluralize: function( input ){
		if( input.slice(-1) == 'y' )
			return ( input.slice(0, -1) + 'ies' );
		else
			return ( input + 's' );
	}
};
console.log( string.pluralize('baby') ); // returns babies
console.log( string.pluralize('cat') ); // returns cats

//Task 2
function Book( bookData ){
	this.title = bookData.title;
	this.quantity = bookData.quantity;
	this.price = bookData.price;
}

Book.prototype.getSubtotal = function(){
	return this.quantity * this.price;
};

var oojsBook = new Book({ title: 'Object Oriented JavaScript', quantity: 2, price: 10 });
console.log(oojsBook.title); // Object Oriented JavaScript
console.log(oojsBook.quantity); // 2
console.log(oojsBook.price); // 10
console.log(oojsBook.getSubtotal()); // 20


function ShoppingCart( books ){
	this.items = books;
}

ShoppingCart.prototype.add = function( book ){
	this.items.push(book);
};

ShoppingCart.prototype.getTotal = function(){
	return this.items.reduce( function( total, book ){
		total = total + book.getSubtotal();
		return total;
	}, 0 );
};

var book1 = new Book({ title: 'Object Oriented JavaScript', quantity: 1, price: 10 });
var book2 = new Book({ title: 'JavaScript Web Applications', quantity: 2, price: 15 });
var book3 = new Book({ title: 'PHP Object Oriented Solutions', quantity: 1, price: 20 });
var book4 = new Book({ title: 'Head First Java', quantity: 5, price: 20 });

var cart = new ShoppingCart([book1, book2]);
cart.add(book3);
cart.add(book4);

var subtotal = cart.getTotal();
console.log(subtotal); // 160

//Task 3
Array.prototype.map2 = function( callBackFunc ){
	//console.log( this );
	this.forEach( function( number, index, arr ){
		arr[index] = callBackFunc(number);
	} );
	return this;
}

var numbers = [1, 2, 3, 4, 5];
var numbersDoubled = numbers.map2( function(number) {
  return number * 2;
});
console.log(numbersDoubled); // should equal [2, 4, 6, 8, 10]

</script>